2025-11-19 07:01:35,502 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,503 - __main__ - INFO - 渐进式测试框架启动
2025-11-19 07:01:35,503 - __main__ - INFO - 日志文件: /home/user/Feature-Algorithm/feature-encryption/logs/test_run_20251119_070135.log
2025-11-19 07:01:35,503 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,503 - __main__ - INFO - 
================================================================================
2025-11-19 07:01:35,503 - __main__ - INFO - 开始渐进式测试
2025-11-19 07:01:35,503 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,503 - __main__ - INFO - 
================================================================================
2025-11-19 07:01:35,503 - __main__ - INFO - 测试步骤1：配置模块
2025-11-19 07:01:35,503 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,554 - __main__ - INFO - 测试1.1: 创建默认配置
2025-11-19 07:01:35,554 - __main__ - INFO -   ✓ 默认配置创建成功
2025-11-19 07:01:35,555 - __main__ - INFO -     M_FRAMES: 6
2025-11-19 07:01:35,555 - __main__ - INFO -     TARGET_BITS: 256
2025-11-19 07:01:35,555 - __main__ - INFO -     BCH: (255, 131, 18)
2025-11-19 07:01:35,555 - __main__ - INFO - 测试1.2: 配置验证
2025-11-19 07:01:35,555 - __main__ - INFO -   ✓ 配置验证通过
2025-11-19 07:01:35,555 - __main__ - INFO - 测试1.3: 预定义配置
2025-11-19 07:01:35,555 - __main__ - INFO -   ✓ 高噪声配置: M_FRAMES=8
2025-11-19 07:01:35,555 - __main__ - INFO -   ✓ 低延迟配置: M_FRAMES=4
2025-11-19 07:01:35,556 - __main__ - INFO - 
================================================================================
2025-11-19 07:01:35,556 - __main__ - INFO - 测试步骤2：特征处理模块
2025-11-19 07:01:35,556 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,556 - __main__ - INFO - 测试2.1: CSI特征处理
2025-11-19 07:01:35,572 - __main__ - INFO -   ✓ CSI处理成功
2025-11-19 07:01:35,573 - __main__ - INFO -     输入维度: (64,)
2025-11-19 07:01:35,573 - __main__ - INFO -     输出维度: (62,)
2025-11-19 07:01:35,573 - __main__ - INFO -     掩码维度: 4
2025-11-19 07:01:35,573 - __main__ - INFO - 测试2.2: RFF特征处理
2025-11-19 07:01:35,573 - __main__ - INFO -   ✓ RFF处理成功
2025-11-19 07:01:35,573 - __main__ - INFO -     输入维度: (16,)
2025-11-19 07:01:35,573 - __main__ - INFO -     输出维度: (16,)
2025-11-19 07:01:35,573 - __main__ - INFO - 
================================================================================
2025-11-19 07:01:35,573 - __main__ - INFO - 测试步骤3：量化投票模块
2025-11-19 07:01:35,573 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,573 - __main__ - INFO - 测试3.1: 生成测试数据
2025-11-19 07:01:35,573 - __main__ - INFO -   ✓ 生成多帧特征: shape=(6, 64)
2025-11-19 07:01:35,573 - __main__ - INFO - 测试3.2: 计算量化门限
2025-11-19 07:01:35,583 - __main__ - INFO -   ✓ 门限计算成功
2025-11-19 07:01:35,584 - __main__ - INFO -     theta_L: shape=(64,), mean=-0.4031
2025-11-19 07:01:35,584 - __main__ - INFO -     theta_H: shape=(64,), mean=0.6478
2025-11-19 07:01:35,584 - __main__ - INFO - 测试3.3: 量化多帧特征
2025-11-19 07:01:35,584 - __main__ - INFO -   ✓ 量化成功
2025-11-19 07:01:35,584 - __main__ - INFO -     Q_frames: shape=(6, 64)
2025-11-19 07:01:35,585 - __main__ - INFO -     量化值: [-1  0  1]
2025-11-19 07:01:35,585 - __main__ - INFO - 测试3.4: 多数投票
2025-11-19 07:01:35,585 - __main__ - INFO -   ✓ 投票成功
2025-11-19 07:01:35,585 - __main__ - INFO -     生成比特数: 0
2025-11-19 07:01:35,585 - __main__ - INFO -     选中维度数: 0
2025-11-19 07:01:35,585 - __main__ - INFO -     比特率: 0.00%
2025-11-19 07:01:35,586 - __main__ - INFO - 测试3.5: 完整量化流程
2025-11-19 07:01:35,588 - __main__ - INFO -   ✓ 完整流程成功
2025-11-19 07:01:35,588 - __main__ - INFO -     最终比特数: 256
2025-11-19 07:01:35,588 - __main__ - INFO - 
================================================================================
2025-11-19 07:01:35,588 - __main__ - INFO - 测试步骤4：模糊提取器模块
2025-11-19 07:01:35,588 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,590 - __main__ - INFO - 测试4.1: 生成辅助数据
2025-11-19 07:01:35,592 - __main__ - INFO -   原始比特串长度: 250
2025-11-19 07:01:35,592 - __main__ - ERROR - ✗ 模糊提取器模块测试失败: Expected r length 256, got 250
Traceback (most recent call last):
  File "/home/user/Feature-Algorithm/feature-encryption/test_progressive.py", line 229, in test_step_4_fuzzy_extractor
    P = extractor.generate_helper_data(r)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/Feature-Algorithm/feature-encryption/src/fuzzy_extractor.py", line 71, in generate_helper_data
    raise ValueError(
ValueError: Expected r length 256, got 250
2025-11-19 07:01:35,594 - __main__ - ERROR - 测试失败，停止后续测试: Step 4: 模糊提取器模块
2025-11-19 07:01:35,594 - __main__ - ERROR - 错误信息: Expected r length 256, got 250
2025-11-19 07:01:35,594 - __main__ - INFO - 
================================================================================
2025-11-19 07:01:35,594 - __main__ - INFO - 测试结果总结
2025-11-19 07:01:35,594 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,594 - __main__ - INFO - ✓ PASS - Step 1: 配置模块
2025-11-19 07:01:35,594 - __main__ - INFO - ✓ PASS - Step 2: 特征处理模块
2025-11-19 07:01:35,594 - __main__ - INFO - ✓ PASS - Step 3: 量化投票模块
2025-11-19 07:01:35,594 - __main__ - INFO - ✗ FAIL - Step 4: 模糊提取器模块
2025-11-19 07:01:35,594 - __main__ - INFO -   错误: Expected r length 256, got 250
2025-11-19 07:01:35,594 - __main__ - INFO - 
================================================================================
2025-11-19 07:01:35,594 - __main__ - INFO - 测试完成: 3/4 通过
2025-11-19 07:01:35,594 - __main__ - ERROR - ✗✗✗ 部分测试失败，需要修复
2025-11-19 07:01:35,594 - __main__ - INFO - ================================================================================
2025-11-19 07:01:35,594 - __main__ - INFO - 详细日志已保存到: /home/user/Feature-Algorithm/feature-encryption/logs/test_run_20251119_070135.log
2025-11-19 07:01:35,594 - __main__ - INFO - ================================================================================

